
<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>Top ten deaths in a State</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.1.4/Chart.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
         <link rel="stylesheet" type="text/css" href="style.css">
        <script>
         var radioGraph = function(selectedstate, selectedyear){

             var rows = new Array();

            $.ajax({

                url: "topTen.php",
                data: {year: selectedyear, state: selectedstate},
                type: "POST",
                dataType:"json",
                success: function (result) { // result
                rows = (result);
                //alert(rows[0][1]);
                //array [x][0] = cause, [x][1] = deaths, [x][2] = aadr
                var ctx = document.getElementById("myChart").getContext('2d');
                var myChart = new Chart(ctx, {
                type: 'polarArea',
                data: {
                labels: [rows[0][0], rows[1][0], rows[2][0], rows[3][0],
                rows[4][0], rows[5][0], rows[6][0], rows[7][0], rows[8][0], rows[9][0]],

                datasets: [{
                  backgroundColor: [
                    "#2ecc71",
                    "#3498db",
                    "#95a5a6",
                    "#9b59b6",
                    "#f1c40f",
                    "#e74c3c",
                    "#34495e",
                    "#1A5276",
                    "#FF5733",
                    "#196F3D"
                  ],
                  data: [rows[0][1], rows[1][1], rows[2][1], rows[3][1],
                rows[4][1], rows[5][1], rows[6][1], rows[7][1], rows[8][1], rows[9][1]]
                }]
              }
            });
            }
        });
         }

        </script>
    </head>
    <body>
        <canvas id="myChart"></canvas>

          <div id="list1">
      <p >State Selection</p>
      <select id="state" name="stateSelection">
                    <option value="Alabama">
                Alabama            </option>
                    <option value="Alaska">
                Alaska            </option>
                    <option value="Arizona">
                Arizona            </option>
                    <option value="Arkansas">
                Arkansas            </option>
                    <option value="California">
                California            </option>
                    <option value="Colorado">
                Colorado            </option>
                    <option value="Connecticut">
                Connecticut            </option>
                    <option value="Delaware">
                Delaware            </option>
                    <option value="District of Columbia">
                District of Columbia            </option>
                    <option value="Florida">
                Florida            </option>
                    <option value="Georgia">
                Georgia            </option>
                    <option value="Hawaii">
                Hawaii            </option>
                    <option value="Idaho">
                Idaho            </option>
                    <option value="Illinois">
                Illinois            </option>
                    <option value="Indiana">
                Indiana            </option>
                    <option value="Iowa">
                Iowa            </option>
                    <option value="Kansas">
                Kansas            </option>
                    <option value="Kentucky">
                Kentucky            </option>
                    <option value="Louisiana">
                Louisiana            </option>
                    <option value="Maine">
                Maine            </option>
                    <option value="Maryland">
                Maryland            </option>
                    <option value="Massachusetts">
                Massachusetts            </option>
                    <option value="Michigan">
                Michigan            </option>
                    <option value="Minnesota">
                Minnesota            </option>
                    <option value="Mississippi">
                Mississippi            </option>
                    <option value="Missouri">
                Missouri            </option>
                    <option value="Montana">
                Montana            </option>
                    <option value="Nebraska">
                Nebraska            </option>
                    <option value="Nevada">
                Nevada            </option>
                    <option value="New Hampshire">
                New Hampshire            </option>
                    <option value="New Jersey">
                New Jersey            </option>
                    <option value="New Mexico">
                New Mexico            </option>
                    <option value="New York">
                New York            </option>
                    <option value="North Carolina">
                North Carolina            </option>
                    <option value="North Dakota">
                North Dakota            </option>
                    <option value="Ohio">
                Ohio            </option>
                    <option value="Oklahoma">
                Oklahoma            </option>
                    <option value="Oregon">
                Oregon            </option>
                    <option value="Pennsylvania">
                Pennsylvania            </option>
                    <option value="Rhode Island">
                Rhode Island            </option>
                    <option value="South Carolina">
                South Carolina            </option>
                    <option value="South Dakota">
                South Dakota            </option>
                    <option value="Tennessee">
                Tennessee            </option>
                    <option value="Texas">
                Texas            </option>
                    <option value="United States">
                United States            </option>
                    <option value="Utah">
                Utah            </option>
                    <option value="Vermont">
                Vermont            </option>
                    <option value="Virginia">
                Virginia            </option>
                    <option value="Washington">
                Washington            </option>
                    <option value="West Virginia">
                West Virginia            </option>
                    <option value="Wisconsin">
                Wisconsin            </option>
                    <option value="Wyoming">
                Wyoming            </option>
              </select>
      </div>

        <div id="list2">
      <p >Select Year</p>
      <select id="year" name="yearSelection">
                    <option value="1999">
                1999            </option>
                    <option value="2000">
                2000            </option>
                    <option value="2001">
                2001            </option>
                    <option value="2002">
                2002            </option>
                    <option value="2003">
                2003            </option>
                    <option value="2004">
                2004            </option>
                    <option value="2005">
                2005            </option>
                    <option value="2006">
                2006            </option>
                    <option value="2007">
                2007            </option>
                    <option value="2008">
                2008            </option>
                    <option value="2009">
                2009            </option>
                    <option value="2010">
                2010            </option>
                    <option value="2011">
                2011            </option>
                    <option value="2012">
                2012            </option>
                    <option value="2013">
                2013            </option>
                    <option value="2014">
                2014            </option>
                    <option value="2015">
                2015            </option>
              </select>

      </div>
        <button onclick='radioGraph($("#state").val(), $("#year").val())'>Select top 10</button>

        <script>
            //<button onclick='radioGraph($("#state").val(), $("#year").val())'>Select top 10</button>
          // $("#update").onclick(radioGraph($("#state").val(), $("#year").val()));
        </script>
    </body>
</html>
